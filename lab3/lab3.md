### Подготовка

Изучите команды `find`, `xargs`, и `grep` с помощью команды `man`.

### Задания

Используя команду `find`:

1. Найдите все файлы и каталоги, имя которых содержит слово `pass`, поиск начните с корневого каталога. <br>
```shell
find / -type d -name "*pass*" -o -type f -name "*pass*"
```

1. Найдите все файлы и каталоги, имя которых содержит слово `pass` без учёта регистра, поиск начните с корневого каталога. <br>
```shell
find / \( -type f -or -type d \) -and -iname "*pass*"
```

1. Найдите все файлы и каталоги, имя которых содержит слово `pass`, ограничив глубину поиска одним каталогом, поиск начните с корневого каталога. <br>
```shell
find / \( -type f -or -type d \) -and -iname "*pass*" -and -maxdepth 1
```

1. Найдите все файлы и каталоги, имена которых оканчиваются на `.bin`. Поиск необходимо выполнить в каталоге `/home`. <br>
```shell
find /home -name "*.bin"
```

1. Найдите все **файлы** (и только файлы) с расширением `bak` и удалите их.<br>
```shell
find / -type f -name "*.bak" -delete
```

1. Найдите все **файлы** (и только файлы) с расширениями `txt` и `sh`. <br>
```shell
find / -type f \( -name "*.txt" -o -name "*.sh" \)
```

1. Найдите все **файлы** (и только файлы) в текущем каталоге и выведите **только** имя файла (без каталога), владельца, группу владельца, количество жёстких ссылок на этот файл и его размер в байтах. <br>
```shell
find . -maxdepth 1 -type f -printf "%f:%u:%g:%n:%s\n"
```

1. Найдите все пустые **каталоги** в текущем каталоге. <br>
```shell
find . -type d -empty -maxdepth 1
```

1. Найдите все пустые **каталоги** в текущем каталоге и удалите их.<br>
```shell
find . -type d -empty -maxdepth 1 - delete
```

1. Найдите и удалите все пустые **файлы** (и только файлы).<br>
```shell
find / -type f -empty -delete
```

1. Найдите все **файлы** (и только файлы) в текущем каталоге, на которые есть хотя бы одна жёсткая ссылка. <br>
```shell
find . -maxdepth 1 -type f -links +0 
```

1. Найдите файлы и каталоги в каталоге `/etc`, **не** принадлежащие пользователю `root`.<br>
```shell
find /etc \( -type f -o -type d \) -not -user root -maxdepth 1
```

1. Найдите все **файлы** (и только файлы), у которых **нет** расширения `sh`.<br>
```shell
find / -type f -not -name "*.sh"
```

3. Найдите все **файлы** (и только файлы), у которых количество жёстких ссылок более двух. <br>
```shell
find / -type f -links +2
```

5. Найдите все **файлы** (и только файлы) в каталоге `/usr/bin`, последний доступ к которым осуществлялся более трёх месяцев назад. <br>
```shell
find /usr/bin -type f -maxdepth 1 -atime +12w
```

7. Найдите все **файлы** (и только файлы) в каталогах `/usr/bin` и `/usr/share`, созданные или изменённые в течении последних 10 дней.<br>
```shell
find /usr/bin /usr/share -mtime 10d 
```

9. Найдите и удалите все **файлы** (и только файлы) в каталоге `/tmp`, которые не менялись более двух недель.<br>
```shell
find /tmp -maxdepth 1 -type f -not -ctime +14 -delete
```

11. Найдите все **файлы** (и только файлы) в каталоге `/usr/bin` с установленным флагом suid/sgid.<br>
```shell
find /usr/bin -type f -maxdepth 1 -perm /u+s,g+s`<br>
Используя команды `find` и `xargs` или параметр `-exec` команды `find`:

1. Найдите все **файлы** (и только файлы) с расширением `txt` и подсчитайте количество строк во всех этих файлах. <br>
```shell
find / -name '*.txt' -type f -print0 | xargs -0 cat | wc -l
```

2. Найдите все каталоги с названием `.svn` и удалите их, включая содержимое этих каталогов, попутно выводя список удалённых файлов на экран. <br>
```shell
find / -type d -name ".svn" -delete | xargs -r0 echo
```

3. Найдите все **файлы** (и только файлы) с расширением `sh` и добавьтем им право на исполнение.<br>
```shell
find / -type f -name "*.sh" | xargs chmod +x
```

4. Найдите все **файлы** (и только файлы) с расширением `conf` в каталоге `/etc` и подсчитайте их суммарный размер, используя команду du.<br>
```shell
find /etc -type f -name "*.conf" | xargs du -c
```

Протестируйте команды, которые вы написали выше, для файлов и каталогов, в именах которых содержатся пробелы и специальные символы, такие как `!` и `&`.

Используя команду `grep`:

1. Из файла `/var/log/messages` вывести строки, содержащие ключевое слово `ERROR`, без учёта регистра.<br>
```shell
grep -i "ERROR" /var/log/messages
```

2. Из файла `/var/log/messages` вывести **количество** строк, **не** содержащих ключевое слово `ERROR`, без учёта регистра. <br>
```shell
grep -iv "ERROR" /var/log/messages
```

3. Из файла `/var/log/messages` вывести строки, содержащие **только слово `ERROR` целиком**, с учётом регистра. <br>
```shell
grep -w "ERROR" /var/log/messages
```

4. Вывести количество строк из файла `/etc/group`, совпадающих с шаблоном `wheel`.<br>
```shell
grep -c "wheel" /etc/group
```

5. Найти во всех файлах из текущего каталога и вложенных подкаталогов строки, содержащие шаблон `#!bin/bash`.<br>
```shell
grep -r "#!bin/bash"
```

6. Изменить предыдущую команду таким образом, чтобы она выводила дополнительные 10 строк после каждого найденного шаблона.<br>
```shell
grep -A 10 -r "#!bin/bash"
```

7. Найти во всех файлах с расширением `sh` из текущего каталога и вложенных подкаталогов строки, содержащие слово `echo` **целиком**. В выводе команды `grep` найденные слова выделите цветом.<br>
```shell
grep -rw "echo" --include "*.sh" --color=auto
```

8. Измените предыдущую команду таким образом, чтобы команда grep отображала также имя файла и номер строки, в которой было обнаружено совпадение с шаблоном.<br>
```shell
grep -rnw "echo" --include "*.sh" --color=auto
```


# Отчёт по лабораторной работе

Скопируйте данную лабораторную работу в виде файла Markdown на свой компьютер, и под каждым заданием напишите ответ.

```sh
git clone https://github.com/efanov/mephi.wiki.git
```


Получившийся файл загрузите в собственный репозиторий.